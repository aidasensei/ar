<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CG モデルを登場させる</title>
</head>
<body style="margin:0px; overflow:hidden;">
  <!-- A-Frame ライブラリの読み込み -->
  <script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
  <!-- AR.js ライブラリの読み込み -->
  <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  
  <!-- A-Frame の VR空間に AR.js を紐づける（デバッグUIを非表示） -->
  <a-scene embedded arjs="trackingMethod:best; debugUIEnabled:true;">

    <!-- OBJ形式のCGモデルの読み込み -->
    <a-assets>
      <a-asset-item id="obj" src="/AR/tinker.obj"></a-asset-item>   <!-- objファイル -->
      <a-asset-item id="mtl" src="/AR/obj.mtl"></a-asset-item>   <!-- mtlファイル -->
    </a-assets>

    <!-- マーカーを登録（プリセットされている「hiro」マーカー） -->
    <a-marker preset="hiro">
      <!-- マーカーの場所に OBJ 形式の 3DCG を置く -->
      <a-obj-model
        src="#obj"
        mtl="#mtl"
        scale="0.01 0.01 0.01"
        position="0 0 0">
        <a-animation
          attribute="rotation"
          to="0 0 0"
          dur="3000"
          easing="linear"
          repeat="indefinite">
        </a-animation>
      </a-obj-model>
    </a-marker>

    <!-- AR用のカメラを置く -->
    <a-entity camera rotation="0 180 0"></a-entity>

  </a-scene>
</body>
<script>
  (function(i,s,o,g,r,a,m){if(i[r])return;i[r]=i[r]||function(){(i['dataLayer']=i['dataLayer']||[]).push(arguments)};a=s.createElement(o),m=s.getElementsByTagName(o);o=m[m.length-1].src;a.async=1;a.src=g;m[0].parentNode.insertBefore(a,m[0]);i[r]('js', new Date());i[r]('config','UA-85417367-1');a=o.indexOf('?');if(-1!=a){m=o.substring(a);a=new URLSearchParams(m).get('s');a&&i[r]('set','user_properties',{'d2w_sid':a});(i['TDV']||i['PDFJS']||i['acute3d']||i['pannellum']||i['THREE']||i['PIXI'])&&i.navigator['serviceWorker']&&i.navigator.serviceWorker.register('d2w_sw.js').then(r=>{r.update()})}})(window,document,'script','https://www.googletagmanager.com/gtag/js?id=UA-85417367-1','gtag')
</script>
</html>
